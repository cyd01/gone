<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<head>
	<title>{{.path}}</title>

	<style type="text/css">
		/* <![CDATA[ */
		div.ace-editor { 
			position: absolute;
			top: 0;
			right: 0;
			bottom: 40px;
			left: 0;
			z-index:50;
		}
		.controls {
			position: absolute;
			height: 40px;
			bottom: 0;
			left: 0;
			right: 0;
			z-index: 100;
			background-color: #eee;
		}
		.controls .row {
		    margin: 8px;
		}
		/* ]]> */
	</style>
</head>

<body>
	<form id="frm-edit" method="POST" action="{{.path}}">
		<input type="hidden" name="edit" value="edit" />

		<textarea id="frm-edit__inp-content" name="content" rows="20">{{.content}}</textarea>
		<div id="frm-edit__cnt-editor" class="ace-editor"></div>

		<div id="frm-edit__cnt-controls" class="controls">
		    <div class="row">
    			<input type="submit" name="save" value="Save" />
    			<input type="submit" name="saveAndReturn" value="Save and Return" />
    			{{if .edit}}
    				<a href="{{.path}}?delete">Delete</a>
    			{{end}}
			</div>
		</div>
	</form>

    <script src="/js/ace/ace.js?template" type="text/javascript" charset="utf-8"></script>
    <script src="/js/gone-editor.js?template" type="text/javascript" charset="utf-8"></script>
</body>

</html>
